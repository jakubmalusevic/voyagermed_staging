$script.ready("jQuery",function(){$(function(){var t=$("#base_url").text(),e=$("#city").text(),o=$("#state").text();$("#main-search-form").submit(function(e){e.preventDefault();var o=$("#search_input").val(),a=$("#location").val().replace(",","");window.location.href=t+"search/"+o.replace(" ","-")+"/"+a.replace(" ","-")+"/distance-desc"}),$("#location").keyup(function(e){var o=$(this).val();if(27==e.which||""==o)$("#autocomplete_locations").slideUp("fast");else{$("#autocomplete_locations").slideDown("fast");var a="q="+o;$("#autocomplete_locations").load(t+"home/BackendLocations",a,function(){$(".list-group li").click(function(){var t=$(this).attr("name"),e=$(this).text().trim();$("#location").val(e),$("#location_text").text(t),$("#autocomplete_locations").slideUp()})})}}),$("#location").click(function(t){$("#autocomplete").slideUp("fast")}),$("#search_input").click(function(t){$("#autocomplete_locations").slideUp("fast")}),$("#search_input").keyup(function(e){var o=$(this).val();if(27==e.which||""==o)$("#autocomplete").slideUp("fast");else{$("#autocomplete").slideDown("fast");var a="q="+o;$("#autocomplete").load(t+"procedures/Backend",a,function(){$(".list-group li").click(function(){var t=$(this).attr("name"),e=$(this).text().trim();$("#search_input").val(e),$("#procedure_text").text(t),$("#autocomplete").slideUp()})})}})})});